<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:fn="http://java.sun.com/jsp/jstl/functions">
  <ui:composition template="../layouts/admin.xhtml">
    <ui:define name="body">
      <h2>Horarios</h2>
      <h:dataTable value="#{adminBean.schedules}" var="schedule" headerClass="table_header" rowClasses="even,odd">
        <h:column>
          <f:facet name="header">Película</f:facet>
          #{schedule.movie.name}
        </h:column>
        <h:column>
          <f:facet name="header">Funciones</f:facet>
          <h:dataTable value="#{schedule.scheduleItems}" var="scheduleItem" headerClass="table_header" rowClasses="even,odd">
            <h:column>
              <f:facet name="header">Código</f:facet>
              #{scheduleItem.code}
            </h:column>
            <h:column>
              <f:facet name="header">Fecha</f:facet>
              #{scheduleItem.start_at}
            </h:column>
            <h:column>
              <f:facet name="header">Precio</f:facet>
              #{scheduleItem.price}
            </h:column>
          </h:dataTable>
        </h:column>
        <h:column>
          <f:facet name="header">Acciones</f:facet>
        </h:column>
      </h:dataTable>
    </ui:define>
  </ui:composition>
</html>